useGetAllPost.jsx â€” Line-by-line, token-level explanation (for absolute beginners)

File: frontend/src/hooks/useGetAllPost.jsx
Goal: Explain how this hook fetches all posts (feed) and updates Redux or local state so components can render posts.

--- Top imports ---
1) import { useEffect } from 'react'
- `useEffect` runs side-effects such as network requests in function components.

2) import axios from 'axios'
- HTTP client used to call the posts API.

3) import { useDispatch } from 'react-redux'
- `useDispatch` to send Redux actions.

4) import { setPosts } from '@/redux/postSlice'
- `setPosts` action saves fetched posts into the post slice.

--- Hook ---
5) const useGetAllPost = () => {
- Define the hook function.

6) const dispatch = useDispatch()
- Get dispatch for use inside the hook.

7) const url = import.meta.env.VITE_URL || 'http://localhost:5000'
- Backend URL with a fallback.

8) useEffect(() => {
    const fetchPosts = async () => {
        try {
            const res = await axios.get(`${url}/api/v1/post/all`, { withCredentials: true })
            if (res.data.success) dispatch(setPosts(res.data.posts))
        } catch (error) { console.error(error) }
    }
    fetchPosts()
}, [dispatch])
- On mount, call `/post/all`. On success, dispatch `setPosts` to update global post list. The empty-ish dependency `[dispatch]` keeps this to one run per mount.

9) export default useGetAllPost
- Export the hook for usage in pages like `Feed.jsx` or `Home.jsx`.

--- Beginner summary ---
- `useGetAllPost` loads the feed posts when a component mounts and puts them into Redux so the rest of the app can read the posts.

End of useGetAllPost doc.